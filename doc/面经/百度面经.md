# 提前批

## 分布式计算

### 一面 0712

1、自我介绍、为什么转专业、怎么自学的

2、熟悉go语言吗？

3、介绍一下leveldb他跟rocksdb有什么区别，以及leveldb的整体流程

4、多版本多环境依赖这种，怎么构建依赖，比如我要同时搭建三套架构的流水线这种

5、熟悉智能指针吗？介绍一下shared_ptr和weakptr

6、项目里写的cpu资源调度和监控具体是做什么的

7、场景设计：两个64亿的url文件找公共url，在一台8G内存的机器里怎么处理

8、算法题：单链表去重

反问：

项目负责：负责集群的资源调度，主要针对自研产品，现在在往k8转，主要是写go的

表现评价：
整体感觉学习能力比较强，表达能力和思维比较清晰，场景设计题和算法题需要多做准备，感觉没有太多准备

### 二面 0715

介绍下：多态

先写下一面写的有问题的题

介绍下智能指针

cpu监控怎么做的，介绍下你的分配算法

为什么三副本主从必须要全部返回，写才能算成功，为什么用raft就不用

### 三面 0716

项目挖掘

介绍下raft的优化

waireshark怎么用的，用来定位什么问题
你对性能是否有宏观的思考，让你从全局的角度去做这么去做

简历上每个点都问了

题：反转链表

======================》 一周后共享

## 云存储打捞

### 一面 0814

# 集群资源管理

一面：说是运维岗

介绍一下，cpeh数据路径改用raft，单节点故障之后怎么保证数据安全的，后续处理？

shell c里执行了两个命令a、b，shellc 进程跟a、b、c三个进程的关系

sort A.txt > A.txt

echo $(sort A.txt）>> A.txt的区别

孤儿进程的父进程是谁？kill孤儿进程之后谁回收的孤儿进程的资源？孤儿进程怎么出现的？

平时怎么排查各类问题的、cpu、网络、内存、磁盘，用过什么工具

题目：
shell求两个文件的交集并集差集合

sort A ｜ uniq -u

sort A | uniq -n

算法：两个排序数组求交集

二面：

介绍下ceph和daos的架构上的区别和联系

介绍下混闪怎么做的

跨numa问题怎么处理的

介绍下单节点你的cpu检测怎么做的，如何识别hang cpu的问题的

如果是你的检测机制启动之前cpu卡了，怎么办？

有没有适配国产化芯片的经历？比如飞腾，你怎么适适配的。

算法：二叉树左视图

三面：

logger的使用场景

logger你怎么证明算法安全性的？(从选举、日志复制分别讨论，选举主要是角色转换的讨论，日志复制主要是连续崩溃场景的讨论)

为什么不将集群的qorum定义为2，这种做法跟logger有什么差别

网络分区的情况下，怎么保证少数派里不会有一个新主出现？

3节点故障1节点补充一logger进来，此时剩余正常节点有故障，集群还是不可用呀？因为logger没有状态机数据，还是得走一个故障恢复流程。

logger的实际实现，按照他给的场景讨论：

1、leader故障

2、follower故障

3、如何补充

如何区分怎么处理，单点故障和网络分区的处理方式是怎么样的

logger跟etcd witness角色的区别，好处在哪?


百度云存储(被转到存储岗)：

一面：

如何优化L1-cache-miss，L2-cache-miss？你怎么做的？

介绍一下你怎么做的负载均衡？如何保证集群IO的负载均衡？

raft为什么要支持切主的语义？为什么不直接让节点多的leader直接重新选举，而需要支持这类语义？

你们的设计规格是多少？怎么考虑的？
答：16384 PB，设计上按照4M的块做固定对象，本地存储4M的块对应4k的元数据，元数据量在0.1%左右，单节点服务器的元数据总量在100G-200G之间，可以大部分命中内存。此外讲了下，这么做之后内存里索引结构可以简化。把raft log当作WAL，元数据索引结构是多级哈希桶，写盘即apply语义，不用像rocksdb一样，需要compation，效率低。

除了主从类的副本控制协议，聊不了解其他类型的副本控制协议？

无锁队列的实现方式有哪些？除了cas这类实现方式你还知道哪些？
https://coolshell.cn/articles/8239.html


题目：设计一个线程安全的LRU，要求性能尽可能高

反问：岗位职责，还有几面
